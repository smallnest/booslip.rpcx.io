<!doctype html><html class="js no-touch progressive-image no-reduced-motion progressive" lang=zh-hans><head><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta http-equiv=X-UA-Compatible content="IE=edge"><link rel=icon href=/img/favicon.ico><meta name=keyword content><meta property="og:url" content="https://booslip.rpcx.io/posts/code-like-a-pro-in-rust/"><meta property="og:site_name" content="竹简书摘"><meta property="og:title" content="Code Like a Pro in Rust"><meta property="og:description" content="假装一个Rust专家"><meta property="og:locale" content="zh_CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-01-01T10:47:55+08:00"><meta property="article:modified_time" content="2025-01-01T10:47:55+08:00"><meta property="article:tag" content="Rust"><title>Code Like a Pro in Rust</title>
<link rel=canonical href=/posts/code-like-a-pro-in-rust/><link rel=stylesheet href=/css/global.css><link rel=stylesheet href=/css/custom.css><link rel=stylesheet href=/css/search.css><link href="https://fonts.googleapis.com/css?family=Bree+Serif" rel=stylesheet><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?c80136b2ed102610dcafb84941e8df30",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script></head></head><body class=page-article><header><nav class=nav><div class=nav-wrapper><div class=nav-content-wrapper><div class=nav-content><a href=/ class=nav-title>竹简书摘</a><div class=nav-menu><div class=nav-item-wrapper><a href=/posts class=nav-item-content>书摘</a></div><div class=nav-item-wrapper><a href=/index.xml class=nav-item-content target=_blank>RSS</a></div></div></div></div></div></nav><script>function toggleSearchModal(){const t=`
    <div class="modal-body">
      <div id="autocomplete" onclick="event.stopPropagation();"></div>
    </div>
    `,e=document.querySelector("#modal-wrapper");if(e)document.body.removeAttribute("style"),document.body.removeChild(e);else{const e=document.createElement("div");document.body.setAttribute("style","overflow: hidden;"),e.setAttribute("id","modal-wrapper"),e.setAttribute("onclick","toggleSearchModal()"),e.innerHTML=t;const n=document.createElement("script");n.setAttribute("src","https://booslip.rpcx.io/js/algolia.js"),e.appendChild(n),document.body.append(e)}}</script></header><main id=main class=main><section><article class=article><div class=article-header><div class="category component"><div class=component-content><div class=category-eyebrow><span class="category-eyebrow__category category_original">rust
</span><span class=category-eyebrow__date>2025年1月1日</span></div></div></div><div class="pagetitle component"><div class=component-content><h1 class=hero-headline>Code Like a Pro in Rust</h1></div></div><div class="component article-subhead"><div class=component-content>假装一个Rust专家</div></div><div class="tagssheet component"><div class=component-content><a href=/tags/rust class=tag>rust</a></div></div></div><div class="book-card component"><div class=book-cover><img data-src=/covers/Code-Like-a-Pro-in-Rust.png alt=书籍封面></div><div class=book-info><h1 class=book-title>Code Like a Pro in Rust</h1><div class=book-meta><span>作者：Brenden Matthews</span>
<span>出版日期：2024-12-30</span>
<span>出版社：Manning</span></div><div class=book-description>书中涵盖了Rust编程的方方面面，从基础概念如Cargo项目管理、Rust工具链的使用，到进阶主题如内存管理、单元测试、异步编程以及性能优化。代码示例丰富, 并提供在线及GitHub资源方便读者学习和实践。 书中还对比了Rust与其他编程语言的特性，并对Rust生态系统中的常用工具进行了详细介绍。</div></div></div><div class=pagebody><p class="component-content component">本书对 Rust 初学者合适，没有介绍高深的Rust概念。</p><p class="component-content component">好的，这是一份按照章节对《Code Like a Pro in Rust》这本书的总结和摘要，着重于关键概念和信息，以中文呈现：</p><p class="component-content component"><strong>前言</strong></p><p class="component-content component">作者Brenden Matthews热爱学习新的编程语言，并指出Rust在很多方面都是一门独特的语言，引入了一些即使有多年编程经验的人也可能从未见过的概念。本书旨在帮助读者克服学习Rust的障碍，并成为一名更专业的Rust程序员。</p><div class="component-content component"><ul><li><p class="component-content component"><strong>第一章：感受 Rust</strong></p><div class="component-content component"><ul><li><strong>Rust 是什么？</strong> Rust 是一种现代编程语言，专注于性能和安全。它拥有现代编程语言的特性，如闭包、泛型、异步 I/O、强大的工具、IDE 集成、代码检查器和风格检查工具。Rust 拥有一个充满活力且不断增长的开发者社区。Rust 主要用于构建系统级代码和安全及性能至关重要的库。它也可以用于其他领域，如使用 WebAssembly（Wasm）进行 Web 编程。</li><li><strong>Rust 的独特之处？</strong> Rust 通过一套独特的抽象来解决常见的编程错误。<strong>安全性</strong>是 Rust 的标志，它通过<strong>借用检查器</strong>提供强大的安全保证。Rust 的借用检查器在编译时验证引用，而不是在运行时进行垃圾回收。Rust 保证内存安全，不允许同时存在多个可变引用。Rust 的编译器 rustc 会检查对于任何给定的对象或变量，在同一时间只能有一个可变引用。可以有多个不可变引用，但不能有多个可变引用。Rust 还具有现代性、开源等特性。</li><li><strong>何时使用 Rust？</strong> Rust 适用于多种应用场景，包括 Web 开发。</li><li><strong>需要的工具</strong>：本书的代码示例可在互联网上公开获取。您需要安装 Git、rustup、gcc 或 clang。</li></ul></div></li><li><p class="component-content component"><strong>第二章：使用 Cargo 进行项目管理</strong></p><div class="component-content component"><ul><li><strong>Cargo 简介</strong>：Cargo 是 Rust 的构建系统和包管理器。</li><li><strong>基本用法</strong>：使用 <code>cargo new</code> 创建新应用程序或库。Cargo 会自动初始化一个新的 Git 仓库。</li><li><strong>构建、运行和测试</strong>： <code>cargo build</code>、 <code>cargo run</code>、 <code>cargo check</code> 和 <code>cargo test</code> 是常用的命令。</li><li><strong>依赖管理</strong>：Cargo.toml 文件用于配置项目依赖项。可以使用语义化版本控制（SemVer）指定依赖项版本。</li><li><strong>Feature flags</strong>： 可以使用 feature flags 来表达可选的功能, 并通过 <code>cfg</code> 和 <code>cfg_attr</code> 属性来控制编译。</li><li><strong>发布包</strong>： 使用 <code>cargo publish</code> 发布到 crates.io。</li><li><strong>文档化</strong>：使用 <code>cargo doc</code> 生成项目文档，文档格式使用 CommonMark。</li><li><strong>工作区（Workspaces）</strong>： 用于管理多个相关的包。</li><li><strong>嵌入式环境中的 Rust 项目</strong>： Rust 适用于嵌入式编程，可以使用 QEMU 进行 Cortex-M 设备仿真。</li></ul></div></li><li><p class="component-content component"><strong>第三章：Rust 工具</strong></p><div class="component-content component"><ul><li><strong>Rust 工具概述</strong>：Rust 提供了多种工具来提高代码质量和生产力。</li><li><strong>rust-analyzer</strong>：用于 Rust IDE 集成的工具，提供代码补全等功能。</li><li><strong>rustfmt</strong>：用于代码格式化的工具，保持代码整洁。</li><li><strong>Clippy</strong>：用于提高代码质量的工具，提供超过 450 种代码质量检查 (lints)。可以配置 Clippy 的 lint 并自动应用建议。</li><li><strong>sccache</strong>：用于减少编译时间的编译器缓存。</li><li><strong>与 IDE 集成</strong>： Rust 可以与各种 IDE 集成，包括 Visual Studio Code。</li></ul></div></li><li><p class="component-content component"><strong>第四章：核心数据</strong></p><div class="component-content component"><ul><li><strong>数据结构</strong>：本章介绍了 Rust 的基本数据结构。</li><li><strong>字符串</strong>：Rust 中有 <code>str</code>、 <code>String</code> 和 <code>&amp;str</code> 三种字符串类型。 <code>str</code> 是栈分配的 UTF-8 字符串切片，不可变； <code>String</code> 是堆分配的 UTF-8 字符串，可变； <code>&amp;str</code> 是对 <code>str</code> 或 <code>String</code> 的不可变引用。</li><li><strong>切片和数组</strong>： 数组是固定长度的值序列，切片是指向内存连续区域的指针，包含长度。</li><li><strong>向量（Vectors）</strong>： <code>Vec</code> 是可调整大小的通用容器，用于存储任何类型的值序列。</li><li><strong>哈希映射 (HashMap)</strong>：HashMap 用于存储键值对。</li><li><strong>基本类型</strong>： Rust 的基本类型包括整数、大小类型和浮点类型。</li><li><strong>原始类型的算术运算</strong>： Rust 默认情况下会检查算术运算的溢出。</li></ul></div></li><li><p class="component-content component"><strong>第五章：内存管理</strong></p><div class="component-content component"><ul><li><strong>堆和栈</strong>：Rust 中的内存管理涉及堆和栈。堆用于动态分配内存，栈用于静态分配。</li><li><strong>所有权</strong>：Rust 的所有权系统通过复制、借用、引用和移动来管理内存。</li><li><strong>深拷贝</strong>： 当需要复制数据时，需要考虑深拷贝。</li><li><strong>避免复制</strong>： 通过借用和引用可以避免不必要的复制。</li><li><strong>智能指针</strong>：智能指针，如 <code>Box</code>，用于在堆上分配数据。</li><li><strong>引用计数</strong>： <code>Rc</code> 和 <code>Arc</code> 是引用计数的智能指针，用于实现共享所有权。</li><li><strong>写时复制</strong>：写时复制是一种设计模式，在需要更改数据时会将其复制到新位置。<code>Cow</code> 是一个智能指针，用于实现写时复制。</li><li><strong>自定义分配器</strong>： 可以自定义内存分配器，以实现更精细的内存控制。</li></ul></div></li><li><p class="component-content component"><strong>第六章：单元测试</strong></p><div class="component-content component"><ul><li><strong>单元测试</strong>：使用 <code>#[test]</code> 属性标记测试函数。</li><li><strong>属性测试</strong>：使用 <code>proptest</code> 库进行属性测试。</li><li><strong>代码覆盖率</strong>： 使用 Tarpaulin 工具生成代码覆盖率报告。</li><li><strong>处理不断变化的生态系统</strong>：Rust 的生态系统不断改进和更新，需要注意向后和向前兼容性。</li></ul></div></li><li><p class="component-content component"><strong>第七章：集成测试</strong></p><div class="component-content component"><ul><li><strong>集成测试</strong>：集成测试用于测试多个组件之间的交互。</li><li><strong>集成测试策略</strong>：测试策略包括使用内置测试或外部集成测试，可以使用 <code>assert_cmd</code> 测试 CLI 应用程序。</li><li><strong>模糊测试</strong>：模糊测试使用随机生成的数据来测试代码。</li></ul></div></li><li><p class="component-content component"><strong>第八章：异步 Rust</strong></p><div class="component-content component"><ul><li><strong>异步 Rust</strong>： 异步 Rust 可以通过使用 <code>async/await</code> 关键字实现并发。</li><li><strong>运行时</strong>： <code>Tokio</code>、 <code>async-std</code> 和 <code>Smol</code> 是常用的异步运行时。</li><li><strong>异步思维</strong>：异步 I/O 是非阻塞的，而同步 I/O 是阻塞的。</li><li><strong>Futures</strong>：Futures 用于处理异步任务的结果。</li><li><strong><code>#[tokio::main]</code></strong>： <code>#[tokio::main]</code> 宏用于定义运行时。</li></ul></div></li><li><p class="component-content component"><strong>第九章：构建 HTTP REST API 服务</strong></p><div class="component-content component"><ul><li><strong>选择 Web 框架</strong>： <code>axum</code> 是一个用于构建 Web API 的框架 。</li><li><strong>创建架构</strong>： Web 服务通常包括负载均衡器、Web 服务和状态服务（如数据库）。</li><li><strong>API 设计</strong>： API 路由定义了端点和请求方法。</li><li><strong>库和工具</strong>： 使用 <code>axum</code>、 <code>chrono</code>、 <code>serde</code>、 <code>sqlx</code> 和 <code>tokio</code> 等库。</li><li><strong>应用脚手架</strong>：包括初始化追踪和日志、数据库连接以及定义路由。</li><li><strong>数据建模</strong>： 使用 SQL 模式和 Rust 结构体来表示数据。</li><li><strong>实现 API 路由</strong>：使用 axum 的 Router 定义 API 路由，并使用 extractors 处理请求。</li><li><strong>错误处理</strong>： 使用 <code>Error</code> 枚举定义错误类型。</li><li><strong>运行服务</strong>：可以使用 <code>HTTPie</code> 测试 API 服务。</li></ul></div></li><li><p class="component-content component"><strong>第十章：构建 HTTP REST API 客户端</strong></p><div class="component-content component"><ul><li><strong>选择工具和库</strong>： 使用 <code>Tokio</code> 和 <code>hyper</code> 库进行 HTTP 请求， <code>clap</code> 库用于命令行解析。</li><li><strong>设计 CLI</strong>：CLI 设计包括定义命令和参数。</li><li><strong>声明命令</strong>：使用 <code>clap</code> 的宏定义命令。</li><li><strong>实现请求</strong>：使用 <code>hyper</code> 发送 HTTP 请求。</li><li><strong>优雅地处理错误</strong>： 在 <code>main</code> 函数中使用 <code>?</code> 操作符来处理错误。</li><li><strong>测试 CLI</strong>： 可以使用 API 服务测试 CLI 的功能。</li></ul></div></li><li><p class="component-content component"><strong>第十一章：优化</strong></p><div class="component-content component"><ul><li><strong>优化策略</strong>： Rust 的零成本抽象允许编写快速代码。</li><li><strong>使用 Rust 加速其他语言</strong>： 可以使用 Rust 加速其他语言的代码，例如 Python、Ruby、Elixir、JavaScript 和 Java。</li><li><strong>需要注意的点</strong>：向量应预先分配所需的容量。使用 <code>copy_from_slice()</code> 方法在切片之间快速移动数据。</li></ul></div></li><li><p class="component-content component"><strong>附录</strong></p><div class="component-content component"><ul><li>介绍了如何使用 <code>rustup</code> 管理 Rust 工具链。</li></ul></div></li></ul></div></div><div id=comments class=utterances><script src=https://utteranc.es/client.js repo=smallnest/booslip.rpcx.io issue-term=pathname theme=github-light crossorigin=anonymous async></script></div></article></section></main><script>var script=document.createElement("script");script.src="https://booslip.rpcx.io/js/initPost.js",document.head.appendChild(script)</script><div class=footer-main><div class="content-body footer-wraper"><div class=footer-box><div class=foot-nav><div class=foot-nav-items><div class=item><div class=logo></div><div class=email>Email: <a href=mailto:smallnest@gmail.com>smallnest@gmail.com</a></div></div><div class="item community"><div class=item-title>社交媒体</div><a href=https://github.com/smallnest target=_blank>Github</a></div><div class="item resources"><div class=item-title>友链</div><a href=https://colobu.com/ target=_blank>鸟窝</a></div></div></div><div class=bottom><div class="item copyright">鸟窝 &copy; 2025 All Rights Reserved.</div></div></div></div></div></body></html>