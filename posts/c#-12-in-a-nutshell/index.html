<!doctype html><html class="js no-touch progressive-image no-reduced-motion progressive" lang=zh-hans><head><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta http-equiv=X-UA-Compatible content="IE=edge"><link rel=icon href=/img/favicon.ico><meta name=keyword content><meta property="og:url" content="https://booslip.rpcx.io/posts/c%23-12-in-a-nutshell/"><meta property="og:site_name" content="竹简书摘"><meta property="og:title" content="C# 12 in a Nutshell"><meta property="og:description" content="C# 12 简明介绍"><meta property="og:locale" content="zh_CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-01-09T18:56:37+08:00"><meta property="article:modified_time" content="2025-01-09T18:56:37+08:00"><meta property="article:tag" content="Dotnet"><meta property="article:tag" content="C#"><title>C# 12 in a Nutshell</title>
<link rel=canonical href=/posts/c%23-12-in-a-nutshell/><link rel=stylesheet href=/css/global.css><link rel=stylesheet href=/css/custom.css><link rel=stylesheet href=/css/search.css><link href="https://fonts.googleapis.com/css?family=Bree+Serif" rel=stylesheet><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?c80136b2ed102610dcafb84941e8df30",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script></head></head><body class=page-article><header><nav class=nav><div class=nav-wrapper><div class=nav-content-wrapper><div class=nav-content><a href=/ class=nav-title>竹简书摘</a><div class=nav-menu><div class=nav-item-wrapper><a href=/posts class=nav-item-content>书摘</a></div><div class=nav-item-wrapper><a href=/index.xml class=nav-item-content target=_blank>RSS</a></div></div></div></div></div></nav><script>function toggleSearchModal(){const t=`
    <div class="modal-body">
      <div id="autocomplete" onclick="event.stopPropagation();"></div>
    </div>
    `,e=document.querySelector("#modal-wrapper");if(e)document.body.removeAttribute("style"),document.body.removeChild(e);else{const e=document.createElement("div");document.body.setAttribute("style","overflow: hidden;"),e.setAttribute("id","modal-wrapper"),e.setAttribute("onclick","toggleSearchModal()"),e.innerHTML=t;const n=document.createElement("script");n.setAttribute("src","https://booslip.rpcx.io/js/algolia.js"),e.appendChild(n),document.body.append(e)}}</script></header><main id=main class=main><section><article class=article><div class=article-header><div class="category component"><div class=component-content><div class=category-eyebrow><span class="category-eyebrow__category category_original">dotnet
</span><span class=category-eyebrow__date>2025年1月9日</span></div></div></div><div class="pagetitle component"><div class=component-content><h1 class=hero-headline>C# 12 in a Nutshell</h1></div></div><div class="component article-subhead"><div class=component-content>C# 12 简明介绍</div></div><div class="tagssheet component"><div class=component-content><a href=/tags/dotnet class=tag>dotnet
</a><a href=/tags/c class=tag>c#</a></div></div></div><div class="book-card component"><div class=book-cover><img data-src=/covers/CSharp-12-in-a-Nutshell.jpeg alt=书籍封面></div><div class=book-info><h1 class=book-title>C# 12 in a Nutshell</h1><div class=book-meta><span>作者：Joseph Albahari</span>
<span>出版日期：2023-12-19</span>
<span>出版社：O'Reilly Media</span></div><div class=book-description>本书全面介绍了C# 12语言及其运行环境.NET 5+ 的特性，涵盖了语法基础、面向对象编程、平台支持、高级特性（如lambda表达式、模式匹配、异步编程等）、.NET库和框架（如LINQ、XML、JSON处理、文件IO、网络编程、多线程和并发编程等），以及反射和元数据操作等内容。 书中深入探讨了C#语言的各个方面，并提供了大量的代码示例。 此外，还涉及到一些.NET平台相关的知识，例如垃圾回收机制和性能计数器等。 总而言之，该节选旨在为读者提供一个全面的C# 12编程指南。</div></div></div><div class=pagebody><div class="component-content pagebody component"><h2 id=第一章c-和-net-介绍 class=pagebody-header><strong>第一章：C# 和 .NET 介绍</strong></h2></div><pre><code>*   C# 是一种灵活且广泛使用的编程语言。
*   C# 12 是该语言的第九次主要更新。
*   C# 提供了高级抽象和底层效率。
*   书中代码示例可以在 LINQPad 中以可编辑的交互式方式使用。
*   **原始字符串字面量** 可以是多行的，并且允许使用 `$` 前缀进行插值。
*   `u8` 后缀用于创建 UTF-8 编码的字符串字面量。
*   `file` 访问修饰符限制类型仅在同一文件中访问。
*   C# 11 引入了 checked 运算符和放松了结构体构造函数的要求。
*   可以将属性应用于 lambda 表达式的目标方法。
*   嵌套属性模式匹配的简化语法。
</code></pre><div class="component-content pagebody component"><h2 id=第二章c-语言基础 class=pagebody-header><strong>第二章：C# 语言基础</strong></h2></div><pre><code>*   介绍了 C# 的基本语法，包括 **变量**、**类型**、**运算符**和**语句**。
*   讨论了 **数值类型**，**布尔类型**，**字符串**和**字符**。
*   涵盖了 **数组**，**变量**和**参数**。
*   解释了 **表达式和运算符**，包括 **null 运算符**。
*   描述了 **语句**和**命名空间**。
*   C# 中使用 `//` 进行单行注释，使用 `/* ... */` 进行多行注释。
*   `@` 前缀可以用来使用与保留关键字冲突的标识符。
*   `=` 用于赋值，`==` 用于相等比较。
*   `null` 表示引用不指向任何对象。
*   C# 支持按位运算符，如 `~`, `&amp;`, `|`, `^`, `&lt;&lt;`, `&gt;&gt;`, `&gt;&gt;&gt;`。
*   浮点类型具有特殊值，如 `NaN`, `+∞`, `-∞`, 和 `-0`。
*   `&amp;&amp;` 和 `||` 运算符用于测试 and 和 or 条件，`!` 运算符表示 not。
*   `char` 类型表示 Unicode 字符，使用单引号。
*   转义序列用反斜杠 `\` 表示特殊字符。
*   可以使用 `\u` (或 `\x`) 转义序列通过四位十六进制代码指定 Unicode 字符。
*   `string` 类型表示不可变的 Unicode 字符序列，使用双引号。
*   原始字符串字面量使用三引号 `&quot;&quot;&quot;` 表示。
*   数组表示特定类型的固定数量的变量。
*   C# 提供了 `??` (null 合并运算符)和 `??=` (null 合并赋值运算符) 来处理 null 值。
*   `using` 语句用于调用实现了 `IDisposable` 接口的对象的 `Dispose` 方法。
</code></pre><div class="component-content pagebody component"><h2 id=第三章创建-c-中的类型 class=pagebody-header><strong>第三章：创建 C# 中的类型</strong></h2></div><pre><code>*   讨论了类，结构体，接口，委托和泛型。
*   实例构造函数可以使用 `public`, `internal`, `private`, 和 `protected` 访问修饰符。
*   可以使用对象初始化器来实例化对象。
*   泛型类型和方法可以有多个参数。
*   泛型类型和方法名称可以重载，只要类型参数的数量不同即可。
</code></pre><div class="component-content pagebody component"><h2 id=第四章高级-c class=pagebody-header><strong>第四章：高级 C#</strong></h2></div><pre><code>*   深入探讨了 **委托**，**事件**，**lambda表达式**和**异常处理**。
*   解释了 **使用声明** 和 **throw 表达式**。
*   涵盖了 **try 语句**和**异常**。
*   讨论了 **可空值类型** 和 **null 运算符**。
*   C# 9 开始可以使用 `and`, `or`, 和 `not` 关键字组合模式。
*   `var` 模式允许重用变量。
*   运算符可以重载。
*   `true` 和 `false` 运算符可以重载，例如 `SqlBoolean` 结构体。
</code></pre><div class="component-content pagebody component"><h2 id=第五章net-概述 class=pagebody-header><strong>第五章：.NET 概述</strong></h2></div><pre><code>*   介绍了 .NET 框架和 CLR 的概念。
*   讨论了 **运行时目标和 TFM** (目标框架标识符)。
*   概述了 **.NET 的各种功能**，如 **文本处理**，**网络**，**并发**。
*   讨论了应用程序层，包括 **瘦客户端**和**富客户端**。
*   涵盖了 **Windows 桌面** UI API，如 WPF 和 Windows Forms。
*   介绍了 **Roslyn 编译器**。
</code></pre><div class="component-content pagebody component"><h2 id=第六章net-基础 class=pagebody-header><strong>第六章：.NET 基础</strong></h2></div><pre><code>*   详细介绍了 **字符串** 和 **文本处理**，包括 **字符串的构造**，**插值字符串**，**文本编码**和 **Unicode**。
*   讨论了 **日期和时间** 的表示，包括 `DateTime` 和 `DateTimeOffset` 结构体。
*   描述了 **标准格式字符串** 和 **解析标志**。
*   解释了 **数学运算**，如 **舍入**，**最大值/最小值**，**平方根**，**对数**和**三角函数**。
*   讨论了 **随机数生成**。
*   涵盖了 **相等性协议** 和 **比较协议**，包括 `==` 和 `!=` 运算符， `Equals` 方法和 `IComparable` 接口。
*  介绍了 **实用工具类**，如 `Console`，`Environment` 和 `Process`。
*  讨论了 **集合** 的相关知识，如 `SortedSet&lt;T&gt;`。
</code></pre><div class="component-content pagebody component"><h2 id=第七章linq class=pagebody-header><strong>第七章：LINQ</strong></h2></div><pre><code>*   介绍了 LINQ (语言集成查询) 的架构和基本概念。
*   **LINQ 的基本数据单元是序列和元素**。
*   **查询运算符的转换构成了 “装饰”**。
*   `Where` 方法构建一个装饰器包装器序列。
</code></pre><div class="component-content pagebody component"><h2 id=第八章linq-运算符 class=pagebody-header><strong>第八章：LINQ 运算符</strong></h2></div><pre><code>*   深入探讨了 LINQ 的各种运算符，例如 **选择**，**过滤**，**排序**和**分组**。
*   介绍了 **元素运算符**，例如 `MinBy`，`MaxBy` 和 `DefaultIfEmpty`。
</code></pre><div class="component-content pagebody component"><h2 id=第九章linq-to-xml class=pagebody-header><strong>第九章：LINQ to XML</strong></h2></div><pre><code>*   介绍了 **LINQ to XML** 的 API。
*   讨论了 **XNode**, **XElement**, **XDocument** 和 **XAttribute** 等 XML 类型的类和概念。
*   解释了如何使用 `XDeclaration` 来设置 XML 文档的编码和其他属性。
</code></pre><div class="component-content pagebody component"><h2 id=第十章其他-xml-和-json-技术 class=pagebody-header><strong>第十章：其他 XML 和 JSON 技术</strong></h2></div><pre><code>*   介绍了低级的 `XmlReader`/`XmlWriter` 类。
*   提及了使用 JSON (JavaScript 对象表示法) 的类型，它是 XML 的流行替代品。
</code></pre><div class="component-content pagebody component"><h2 id=第十一章动态编程 class=pagebody-header><strong>第十一章：动态编程</strong></h2></div><pre><code>*   涵盖了代码生成的相关知识
</code></pre><div class="component-content pagebody component"><h2 id=第十二章垃圾回收 class=pagebody-header><strong>第十二章：垃圾回收</strong></h2></div><pre><code>*   讨论了垃圾回收和 `IDisposable` 接口。
*   介绍了 **终结器** 的概念，并讨论了 **复活** 的问题。
</code></pre><div class="component-content pagebody component"><h2 id=第十三章诊断 class=pagebody-header><strong>第十三章：诊断</strong></h2></div><pre><code> *  讨论了预处理器指令，例如 `#if`, `#else`, 和 `#endif`。
 *  介绍了如何使用 **Windows 事件日志**。
</code></pre><div class="component-content pagebody component"><h2 id=第十四章并发和异步 class=pagebody-header><strong>第十四章：并发和异步</strong></h2></div><pre><code>*   讨论了 **线程** 的概念，以及如何使用 **多线程**。
*   介绍了 **异步模式**，例如 **EAP** (基于事件的异步模式) 和 **BackgroundWorker**。
*   涵盖了 **取消** 和 **超时**。
*   `TrySetResult`，`TrySetException` 和 `TrySetCanceled` 方法用于发出任务完成信号。
</code></pre><div class="component-content pagebody component"><h2 id=第十五章流和-io class=pagebody-header><strong>第十五章：流和 I/O</strong></h2></div><pre><code>*   介绍了流的架构，包括 **后备存储**，**装饰器** 和 **适配器**。
*   描述了各种类型的 **流**，例如 `FileStream`，`MemoryStream` 和 `BufferedStream`。
*   讨论了 **命名管道** 和 **匿名管道**。
*   介绍了 **文本适配器**，如 `StreamReader` 和 `StreamWriter`。
*   解释了 **文本编码**，包括 ASCII 和 UTF-8。
*   描述了 **二进制适配器**，如 `BinaryReader` 和 `BinaryWriter`。
*   介绍了 **压缩流**，如 `DeflateStream` 和 `BrotliStream`。
*   讨论了 **文件和目录操作**，包括 `File`, `Directory` 和 `Path` 类。
*   介绍了 **操作系统的安全性** 和用户帐户控制 (UAC)。
</code></pre><div class="component-content pagebody component"><h2 id=第十六章网络 class=pagebody-header><strong>第十六章：网络</strong></h2></div><pre><code>*   讨论了网络架构，包括 **应用层**和 **传输层**。
*   介绍了 **URI** (统一资源标识符)。
*   描述了如何使用 `HttpClient` 发送 HTTP 请求。
*   解释了如何使用 `HttpListener` 构建 HTTP 服务器。
*   涵盖了如何使用 `SmtpClient` 发送电子邮件。
*   介绍了如何使用 TCP 进行通信，包括 `TcpClient`，`TcpListener` 和 `Socket` 类。
*   讨论了如何使用 TCP 接收 POP3 邮件。
</code></pre><div class="component-content pagebody component"><h2 id=第十七章程序集 class=pagebody-header><strong>第十七章：程序集</strong></h2></div><div class="component-content component"><ul><li>讨论了 <strong>程序集</strong> 的相关概念，如 .exe 文件，程序集清单，以及如何使用 .NET 程序集</li><li><strong>第十八章：本地化</strong><div class="component-content component"><ul><li>讨论了 <strong>本地化</strong> 的相关概念，并介绍了如何使用 .NET 实现</li></ul></div></li></ul></div><div class="component-content pagebody component"><h2 id=第十九章动态编程 class=pagebody-header><strong>第十九章：动态编程</strong></h2></div><pre><code>*   讨论了动态程序集和类型生成。
*   介绍了如何使用反射来动态访问类型和方法。
</code></pre><div class="component-content pagebody component"><h2 id=第二十章密码学 class=pagebody-header><strong>第二十章：密码学</strong></h2></div><pre><code>*   介绍了 **Windows 数据保护 API (DPAPI)**。
*   讨论了 **哈希** 算法，如 SHA1 和 SHA256，并介绍了 **哈希密码** 的方法。
*   介绍了 **对称加密** 算法，如 Rijndael 和 AES。
*   涵盖了 **公钥加密** 和 **签名**，包括 RSA 算法。
</code></pre><div class="component-content pagebody component"><h2 id=第二十一章高级线程 class=pagebody-header><strong>第二十一章：高级线程</strong></h2></div><pre><code>*   讨论了 **独占锁定** 构造，如 `lock` 语句，`Mutex` 和 `SpinLock`。
*   介绍了 **非独占锁定** 构造，如 `Semaphore` 和 `ReaderWriterLockSlim`。
*   涵盖了 **事件等待句柄**，如 `AutoResetEvent` 和 `ManualResetEvent`。
*   讨论了 **Barrier 类**，用于实现线程执行屏障。
*   介绍了 **定时器**，包括 `System.Threading.Timer` 和 `PeriodicTimer`。
</code></pre><div class="component-content pagebody component"><h2 id=第二十二章任务 class=pagebody-header><strong>第二十二章：任务</strong></h2></div><pre><code> * 介绍了 **任务** 的相关知识，包括 `Task` 类 和 `TaskCreationOptions`。
 * 介绍了任务的延续，包括 `ContinueWith` 方法和各种 `NotOn*` 标志
</code></pre><div class="component-content pagebody component"><h2 id=第二十三章spant-和-memoryt class=pagebody-header><strong>第二十三章：Span 和 Memory</strong></h2></div><pre><code>*   介绍了 `Span&lt;T&gt;` 和 `Memory&lt;T&gt;` 的概念，以及它们与数组的不同。
*   讨论了如何使用 `Span&lt;T&gt;` 进行 **切片** 和 **性能优化**。
*   介绍了 `Utf8Formatter` 和 `Utf8Parser` 类，用于格式化和解析 UTF-8 数据。
</code></pre><div class="component-content pagebody component"><h2 id=第二十四章不安全代码 class=pagebody-header><strong>第二十四章：不安全代码</strong></h2></div><pre><code>* 介绍了如何使用 **指针** 和 **不安全代码** 来提高性能
* 介绍了如何使用 **P/Invoke** 调用外部方法
</code></pre></div><div id=comments class=utterances><script src=https://utteranc.es/client.js repo=smallnest/booslip.rpcx.io issue-term=pathname theme=github-light crossorigin=anonymous async></script></div></article></section></main><script>var script=document.createElement("script");script.src="https://booslip.rpcx.io/js/initPost.js",document.head.appendChild(script)</script><div class=footer-main><div class="content-body footer-wraper"><div class=footer-box><div class=foot-nav><div class=foot-nav-items><div class=item><div class=logo></div><div class=email>Email: <a href=mailto:smallnest@gmail.com>smallnest@gmail.com</a></div></div><div class="item community"><div class=item-title>社交媒体</div><a href=https://github.com/smallnest target=_blank>Github</a></div><div class="item resources"><div class=item-title>友链</div><a href=https://colobu.com/ target=_blank>鸟窝</a></div></div></div><div class=bottom><div class="item copyright">鸟窝 &copy; 2025 All Rights Reserved.</div></div></div></div></div></body></html>